{-$DEFINE FULLDEBUG}  // Compile debug version, slower but with more error checking
{-$DEFINE FIXEDPOINT} // Enable fixed point math (faster)
{-$DEFINE CATCHALL} // Catch and ignore all exceptions

{-$DEFINE DISABLELOG}
{.$DEFINE DISABLEMUSIC}
{-$DEFINE DISABLESOUND}
{.$DEFINE DISABLECOLORGRADING}
{-$DEFINE DISABLETRANSITIONS}
{-$DEFINE DISABLESHADERS}
{-$DEFINE DISABLEOUTLINES}
{-$DEFINE DISABLETHREADS}
{$DEFINE DISABLEALLOCOPTIMIZATIONS}
{$DEFINE DISABLEMEMORYMANAGER}
{$DEFINE DISABLEORIENTATIONANIMATIONS}

{-$DEFINE SPLASHSCREEN}

{$IFDEF FPC}
{$DEFINE USE_OLD_OBJECTS}
{$ELSE}
{$IFDEF VER150}
  {$DEFINE USE_OLD_OBJECTS}
{$ENDIF}
{$ENDIF}

{$DEFINE USE_OLD_OBJECTS}

// default engine settings (can be overriden later)
{$DEFINE POSTPROCESSING} // Support for framebuffer  rendering
{$DEFINE PIXEL32}   // Images have 32bits per pixel
{$DEFINE RGB}       // Pixels are stored in RGB format

{-$DEFINE PLUGIN}     // Compile a webbrowser plugin (not function yet)

{$DEFINE HAS_AUDIOTRACK}
{$DEFINE HAS_MIDI}

{$IFDEF MSWINDOWS}
  {-$DEFINE SSE} // enable SSE optimizations THIS IS BROKEN, DISABLE FOR NOW! (Only quaternion code needs fix!)
  {$DEFINE WINDOWS}
{$ELSE}
	{$IFNDEF LINUX}
    {$IFDEF BSD}
      {$IFNDEF IPHONE}
      	{$DEFINE MACOS}
      {$ENDIF}
  	{$ELSE}
      {$IFNDEF ANDROID}
        {$DEFINE NDS}
      {$ENDIF}
    {$ENDIF}
	{$ENDIF}
{$ENDIF}

{$IFDEF DELPHI_9}
{$INLINE AUTO}
{$ENDIF}

{$IFDEF FPC}
  {$IFDEF WINDOWS}
   {$IFNDEF USE_CONSOLE}
   {$APPTYPE GUI}
   {$ENDIF}
  {$ENDIF}

  {$IFDEF SSE}
    {$UNDEF SSE}
    {$FPUTYPE sse2}
    {$UNDEF BENCHMARK}
  {$ENDIF}

  {$WARN 5025 OFF}

//  {$MODE DELPHI}

  {$INLINE ON}
  {$SMARTLINK ON}
{$ELSE}
  {$DEFINE DELPHI}
  
  {$SAFEDIVIDE OFF}
  {$IFDEF FULLDEBUG}
    {$DEBUGINFO ON}
    {$STACKFRAMES ON}
    {$LOCALSYMBOLS ON}
  {$ENDIF}
{$ENDIF}

{$IFDEF LINUX}
{$DEFINE PC}
{$ENDIF}

{$IFDEF WINDOWS}
{$DEFINE PC}
{$ENDIF}

{$IFDEF MACOS}
  {$DEFINE PC}
  {$DEFINE OSX}
  {$LONGSTRINGS ON}
  {$IFDEF COCOA}
    {$DEFINE ISLIBRARY}
  {$ENDIF}
{$ENDIF}

{$IFDEF NDS}
  {$UNDEF FULLDEBUG}
  {$UNDEF POSTPROCESSING}
//{$LONGSTRINGS OFF}
  {$OPTIMIZATION ON}
  {-$OPTIMIZATION LEVEL1}
  {-$OPTIMIZATION LEVEL2}
  {-$OPTIMIZATION LEVEL3}
  {-$OPTIMIZATION REGVAR}
  {-$OPTIMIZATION STACKFRAME}
  {-$OPTIMIZATION PEEPHOLE}
  {-$OPTIMIZATION LOOPUNROLL}

  {-$DEFINE FIXEDPOINT} // Enable fixed point math (faster)
  {-$DEFINE GBFS}        // Enable GBFS filesystem support    
  {-$DEFINE MOBILE}
{$ENDIF}

{$IFDEF PC}
  {$DEFINE ALLFUNCTIONS}
  {$DEFINE USEASM}    //  If enabled, some routines will use faster asm versions
  {$DEFINE VOLUMETEXTURES} // Support for 3D textures
  {$DEFINE FRAMEBUFFEROBJECTS} // Support for framebuffer rendering
  {$DEFINE GAMMA_CORRECTION}
{$ENDIF}

{$IFDEF IPHONE}
  {$DEFINE MOBILE}
  {$DEFINE IOS}
  {$UNDEF FRAMEBUFFEROBJECTS} // Support for framebuffer rendering
  {$UNDEF POSTPROCESSING}
  {$UNDEF SHADOWMAPS}         // Support for shadowmapping
  {$RANGECHECKS OFF}
  {$S-} // Disable stack checking
  {$DEFINE ISLIBRARY}
  {$DEFINE VIRTUALKEYBOARD}
  {-$DEFINE NEON_FPU}
  {-$DEFINE DISABLELOG}
	{$UNDEF HAS_MIDI}

  {-$DEFINE EMULATED_LANDSCAPE}
{$ENDIF}

{$IFDEF ANDROID}
// pass this to FPC ->  -k-landroid
  {$DEFINE MOBILE}
  {$DEFINE ISLIBRARY}
  {$DEFINE VIRTUALKEYBOARD}
  {$DEFINE DISABLE_OPENAL}

  {$UNDEF LINUX}

  {$IFDEF OUYA}
    {$DEFINE ANDROIDCONSOLE}
    {$DEFINE GAMECONSOLE}
  {$ENDIF}
  {$IFDEF XINYOU}
    {$DEFINE ANDROIDCONSOLE}
    {$DEFINE GAMECONSOLE}
  {$ENDIF}

  {$DEFINE DISABLEINPUTMUTEX}
{$ENDIF}

{$IFDEF OUYA}
  {$DEFINE ISLIBRARY}
  {$DEFINE VIRTUALKEYBOARD}
{$ENDIF}

{$UNDEF SHADOWMAPS}         // Support for shadowmapping

{$IFDEF ANDROID}
  {$UNDEF PC}
  {$DEFINE FRAMEBUFFEROBJECTS}
  {$UNDEF POSTPROCESSING}

  {-$DEFINE DISABLELOG}
  {-$DEFINE DISABLESOUND}
  {-$DEFINE DISABLEMUSIC}
{$ENDIF}


{$IFDEF LINUX}
  {-$UNDEF FRAMEBUFFEROBJECTS}
  {-$UNDEF POSTPROCESSING}
  {$UNDEF HAS_AUDIOTRACK}
  {$UNDEF HAS_MIDI}

  {-$DEFINE DISABLETHREADS}
{$ENDIF}

{$IFDEF PC}
  {-$DEFINE DISABLEMUSIC}
  {-$DEFINE VIRTUALKEYBOARD}
  {-$UNDEF POSTPROCESSING}
  {-$UNDEF FRAMEBUFFEROBJECTS}
  {-$DEFINE GAMECONSOLE}
  {-$DEFINE DISABLELOG}
  {.$DEFINE HIGH_QUALITY_WATER}
{$ENDIF}

{$IFDEF OSX}
  {-$UNDEF POSTPROCESSING}
  {-$UNDEF FRAMEBUFFEROBJECTS}
  {.$DEFINE DISABLE_OPENAL}
  {.$DEFINE DISABLETHREADS}
  {.$DEFINE DISABLEFILECACHE}  
  {$UNDEF HAS_AUDIOTRACK}
{$ENDIF}

{$IFDEF MOBILE}
  {-$UNDEF POSTPROCESSING}
  {-$DEFINE DISABLETHREADS}
  {$DEFINE DISABLEVR}
{$ENDIF}

{$IFNDEF FRAMEBUFFEROBJECTS}
  {$UNDEF POSTPROCESSING}
{$ENDIF}

{-$DEFINE EXTENDED_DEBUG}
{-$DEFINE DEBUG_CORE}
{-$DEFINE DEBUG_GL}
{-$DEFINE DEBUG_RENDERER}
{.$DEFINE DEBUG_REFLECTIONS}
{-$DEFINE DEBUG_GRAPHICS}
{-$DEFINE DEBUG_ANIMATIONS}
{-$DEFINE DEBUG_GUI}
{.$DEFINE DEBUG_COLOR}
{-$DEFINE DEBUG_SHADERS}
{-$DEFINE DEBUG_JAVA}
{.$DEFINE DEBUG_FONTS}
{-$DEFINE DEBUG_FILECACHE}
{-$DEFINE DEBUG_LOCKS}
{-$DEFINE DEBUG_MIDI}
{-$DEFINE DEBUG_NET}
{-$DEFINE DEBUG_ITERATORS}
{-$DEFINE DEBUG_SHADERS}
{-$DEFINE DEBUG_LOG}

{$IFDEF WINDOWS}
{$IFNDEF FPC}
  {-$DEFINE DEBUG_CALLSTACK}
  {-$DEFINE DEBUG_LEAKS}
  {-$DEFINE DEBUG_ALLOCS}
{$ENDIf}
{$ENDIF}

{-$DEFINE NO_ROTS}

{-$DEFINE USE_TIME_MULTIPLIER}

{$IFDEF GLDEBUG} {$DEFINE USEDEBUGUNIT} {$ENDIF}
{$IFDEF DEBUG_CALLSTACK} {$DEFINE USEDEBUGUNIT} {$ENDIF}



{-$DEFINE ALLOW_PARTICLE_DYNAMIC_MOVEMENT}

{.$DEFINE REFLECTIONS_WITH_ALPHA}
{.$DEFINE REFLECTIONS_WITH_STENCIL}

{-$DEFINE DISABLESHADERS}
{-$UNDEF FRAMEBUFFEROBJECTS}
{-$UNDEF POSTPROCESSING}

{$DEFINE DISABLEFILECACHE}  

{$IFDEF UNIX}
{$DEFINE DISABLEMEMORYMANAGER}
{$ENDIF}

{$IFDEF PC}
{-$DEFINE DISABLETHREADS}
{$DEFINE DISABLEVR}
{$DEFINE DISTANCEFIELDFONTS}
{-.$DEFINE ADVANCED_ALPHA_BLEND}
{$ENDIF}

{$DEFINE CRASH_REPORT}

{$OVERFLOWCHECKS OFF}{$RANGECHECKS OFF}